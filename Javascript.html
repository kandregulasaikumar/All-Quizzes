<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Javascript Quize App </title>
</head>
<style>
    *{
    margin: 0px;
    padding: 0px;
    font-family: 'poppins', sans-serif;
    box-sizing: border-box;
}
body{
    background: #001e4d;
}
.app{
    background: #fff;
    width: 90%;
    max-width: 600px;
    margin: 100px auto 0;
    border-radius: 10px;
    padding: 30px;
}

.app h1{
    font-size: 25px;
    color: #001e4d;
    font-weight: 600;
    border-bottom: 1px solid #333;
    padding-bottom: 30px;
}

.quiz{
padding: 20px 0;
}

.quiz h1{
    font-size: 18px;
    color:#001e4d ;
    font-weight: 600;
}

.btn{
    background: #fff;
    color: #222;
    font-weight: 500;
    width: 100%;
    border: 1px solid #222;
    padding: 10px;
    margin: 10px 0;
    text-align: left;
    border-radius: 4px ;
    cursor: pointer;
    transition: all 0.3s;
}
.btn:hover:not([disabled]){
    background: #222;
    color: #fff;
}
.btn:disabled{
    cursor:no-drop;
}

#next-btn{
    background: #001e4d;
    color: #fff;
    font-weight: 500px;
    width: 150px;
    border: 0;
    padding: 10px;
    margin: 20px auto 0;
    border-radius: 4px;
    cursor: pointer;
    display: none;
}

.correct{
    background: #9aeabc;

}
.incorrect{
    background: #ff9393;
}

.s{
    margin-top: 10px;
}
a{
    background: #fff;
    color: #222;
    font-weight: 500;
    width: 100%;
    border: 1px solid #222;
    padding: 10px;
    margin: 10px 0;
    text-align: left;
    border-radius: 4px ;
    cursor: pointer;
    transition: all 0.3s;
    text-decoration: none;
    background: #001e4d;
    color: #fff;
   
}
</style>
<body>
<div class="app">
    <h1>simple Quiz (Javascript)</h1>
    <div class="quiz">
        <h2 id="question">Question goes here</h2>
        <div id="answer-buttons">
            <button class="btn">Answer 1</button>
            <button class="btn">Answer 2</button>
            <button class="btn">Answer 3</button>
            <button class="btn">Answer 4</button>
        </div>
        <button id="next-btn">Next</button>

        <div class="s"><a href="index.html">Home</a></div>
    </div>
</div> 
    <script>
        const questions = [
    {
        question: "What is the correct way to declare a JavaScript variable?",
        answers: [
            { text: "var variableName;", correct: true },
            { text: "variable variableName;", correct: false },
            { text: "v variableName;", correct: false },
            { text: "int variableName;", correct: false },
        ]
    },
    {
        question: "Which of the following is not a JavaScript data type?",
        answers: [
            { text: "Boolean", correct: false },
            { text: "String", correct: false },
            { text: "Float", correct: true },
            { text: "Number", correct: false },
        ]
    },
    {
        question: "What will the following code output: console.log(2 + '2')?",
        answers: [
            { text: "'22'", correct: true },
            { text: "4", correct: false },
            { text: "22", correct: false },
            { text: "Error", correct: false },
        ]
    },
    {
        question: "What does the '===' operator do in JavaScript?",
        answers: [
            { text: "Checks if two values are equal in value and type", correct: true },
            { text: "Assigns a value to a variable", correct: false },
            { text: "Checks if two values are equal in value", correct: false },
            { text: "Checks if two values are not equal", correct: false },
        ]
    },
    {
        question: "How do you write an 'if' statement for executing some code if 'x' is NOT equal to 5?",
        answers: [
            { text: "if (x != 5)", correct: true },
            { text: "if (x <> 5)", correct: false },
            { text: "if (x =! 5)", correct: false },
            { text: "if (x !== 5)", correct: false },
        ]
    },
    {
        question: "What is the correct JavaScript syntax to change the content of the HTML element with id 'demo'?",
        answers: [
            { text: "document.getElementById('demo').innerHTML = 'Hello World';", correct: true },
            { text: "#demo.innerHTML = 'Hello World';", correct: false },
            { text: "document.innerHTML('demo', 'Hello World');", correct: false },
            { text: "$('#demo').html('Hello World');", correct: false },
        ]
    },
    {
        question: "Which method is used to round a number downwards to the nearest integer in JavaScript?",
        answers: [
            { text: "Math.floor()", correct: true },
            { text: "Math.round()", correct: false },
            { text: "Math.ceil()", correct: false },
            { text: "Math.trunc()", correct: false },
        ]
    },
    {
        question: "What will the following code output: console.log(typeof [])?",
        answers: [
            { text: "'object'", correct: true },
            { text: "'array'", correct: false },
            { text: "'undefined'", correct: false },
            { text: "'array'", correct: false },
        ]
    },
    {
        question: "How do you add a comment in JavaScript?",
        answers: [
            { text: "// This is a comment", correct: true },
            { text: "<!-- This is a comment -->", correct: false },
            { text: "' This is a comment", correct: false },
            { text: "/* This is a comment */", correct: false },
        ]
    },
    {
        question: "What is the result of the following expression: 5 + '5' in JavaScript?",
        answers: [
            { text: "'55'", correct: true },
            { text: "10", correct: false },
            { text: "Error", correct: false },
            { text: "55", correct: false },
        ]
    },
    {
        question: "Which built-in method returns the characters in a string beginning at the specified location?",
        answers: [
            { text: "substring()", correct: true },
            { text: "substr()", correct: false },
            { text: "slice()", correct: false },
            { text: "getSubstring()", correct: false },
        ]
    },
    {
        question: "What does the '&&' operator do in JavaScript?",
        answers: [
            { text: "Logical AND", correct: true },
            { text: "Logical OR", correct: false },
            { text: "Logical NOT", correct: false },
            { text: "Assignment", correct: false },
        ]
    },
    {
        question: "What is the output of: console.log(0.1 + 0.2 === 0.3);",
        answers: [
            { text: "false", correct: true },
            { text: "true", correct: false },
            { text: "Error", correct: false },
            { text: "undefined", correct: false },
        ]
    },
    {
        question: "What does the 'typeof' operator return?",
        answers: [
            { text: "The type of a variable or expression", correct: true },
            { text: "The value of a variable or expression", correct: false },
            { text: "Whether a variable is defined or not", correct: false },
            { text: "The size of a variable or expression", correct: false },
        ]
    },
    {
        question: "What is the output of: console.log([1, 2, 3] + [4, 5, 6]);",
        answers: [
            { text: "'1,2,34,5,6'", correct: true },
            { text: "[1,2,3,4,5,6]", correct: false },
            { text: "Error", correct: false },
            { text: "'[1,2,3][4,5,6]'", correct: false },
        ]
    },
    // Output Guess Questions
    {
        question: "What will the output of the following code: console.log(3 + 4);",
        answers: [
            { text: "7", correct: true },
            { text: "'34'", correct: false },
            { text: "12", correct: false },
            { text: "Error", correct: false },
        ]
    },
    {
        question: "Predict the output: console.log('5' + 5);",
        answers: [
            { text: "'55'", correct: true },
            { text: "10", correct: false },
            { text: "'10'", correct: false },
            { text: "'Error'", correct: false },
        ]
    },
    {
        question: "What is the output of: console.log(2 * '2');",
        answers: [
            { text: "4", correct: true },
            { text: "'22'", correct: false },
            { text: "22", correct: false },
            { text: "'Error'", correct: false },
        ]
    },
    {
        question: "What is the result of the following expression: 3 + 2 * 4?",
        answers: [
            { text: "11", correct: false },
            { text: "20", correct: false },
            { text: "15", correct: true },
            { text: "9", correct: false },
        ]
    },
    {
        question: "What is the correct way to declare a JavaScript variable?",
        answers: [
            { text: "variable x;", correct: false },
            { text: "var x;", correct: true },
            { text: "x = var;", correct: false },
            { text: "x;", correct: false },
        ]
    },
    {
        question: "What is the output of the following code snippet: console.log(typeof([]));",
        answers: [
            { text: "'array'", correct: false },
            { text: "'object'", correct: true },
            { text: "'undefined'", correct: false },
            { text: "'null'", correct: false },
        ]
    },
    {
        question: "Which method is used to add one or more elements to the end of an array in JavaScript?",
        answers: [
            { text: "push()", correct: true },
            { text: "append()", correct: false },
            { text: "addToEnd()", correct: false },
            { text: "add()", correct: false },
        ]
    },
    {
        question:"What method is used to create a new promise in JavaScript?" ,
        answers:[
            { text: "Promise()", correct: true },
            { text: "newPromise()", correct: false },
            { text: "createPromise()", correct: false },
            { text: "makePromise()", correct: false },
        ]
    },
    {
        question:"Which method is used to handle a successful result in a promise chain?",
        answers:[
            { text: "then()", correct: true },
            { text: "catch()", correct: false },
            { text: "finally()", correct: false },
            { text: "resolve()", correct: false },
        ]
    },
    {
        question:"What does the Promise.all() method do in JavaScript?",
        answers:[
            { text: "Executes multiple promises concurrently and returns a single promise that resolves when all of the input promises have resolved.", correct: true },
            { text: "Executes multiple promises sequentially and returns a single promise that resolves when all of the input promises have resolved.", correct: false },
            { text: "Executes multiple promises concurrently and returns a single promise that resolves when any of the input promises have resolved.", correct: false },
            { text: "Executes multiple promises sequentially and returns a single promise that resolves when any of the input promises have resolved.", correct: false },
        ]
    },
    {
        question: "Which method is used to fetch data from a server in JavaScript?",
        answers: [
            { text: "fetch()", correct: true },
            { text: "get()", correct: false },
            { text: "request()", correct: false },
            { text: "retrieve()", correct: false }
        ]
    }
    
];

const questionsElement=document.getElementById("question");
const answerButtons = document.getElementById("answer-buttons");
const nextButton = document.getElementById("next-btn");

let correctQuestionIndex=0;
let score = 0;

function startQuiz(){
correctQuestionIndex=0;
score=0;
nextButton.innerHTML="Next";
showQuestion();
}

function showQuestion(){
    resetState();
    let currentQestion=questions[correctQuestionIndex];
    let questionNo = correctQuestionIndex+1;
    questionsElement.innerHTML=questionNo+","+currentQestion.question

    currentQestion.answers.forEach(answer=>{
        const button=document.createElement("button")
        button.innerHTML=answer.text;
        button.classList.add("btn")
        answerButtons.appendChild(button)
        if(answer.correct){
            button.dataset.correct=answer.correct;
        }
        button.addEventListener('click',selectAnswer);
    });
}

 function resetState() {
    nextButton.style.display="none"
    while(answerButtons.firstChild){
        answerButtons.removeChild(answerButtons.firstChild);
    }
 }

 function selectAnswer (e){
    const selectedBtn = e.target;
    const isCorrect = selectedBtn.dataset.correct==="true";
    if(isCorrect){
        selectedBtn.classList.add("correct")
        score++;
    }
    else{
        selectedBtn.classList.add("incorrect")
    }
    Array.from(answerButtons.children).forEach(button=>{
       if(button.dataset.correct==="true"){
        button.classList.add("correct")
       }
       button.disabled=true;
    })
    nextButton.style.display="block"
 }

function showScore(){
    resetState();
    questionsElement.innerHTML=`your scored ${score} out of ${questions.length}!`;
    nextButton.innerHTML="play Again"
    nextButton.style.display="block"
}


function handleNextButton(){
    correctQuestionIndex++;
    if(correctQuestionIndex <questions.length){
        showQuestion()
    }
    else{
        showScore();
    }
}




nextButton.addEventListener('click',()=>{
    if(correctQuestionIndex < questions.length){
        handleNextButton();
    }
    else{
        startQuiz();
    }
})



startQuiz();
    </script>
</body>
</html>